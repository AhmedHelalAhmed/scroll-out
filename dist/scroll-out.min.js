var ScrollOut=function(){"use strict"
function l(e){var t,n=Date.now()
return function(){n+17-Date.now()<0?(t=0,n=Date.now(),e()):t=t||setTimeout(e,17)}}function s(){}function f(t){if(t){var e,n,r=function(){e=0,n.forEach(function(e){t.apply(0,e)})}
return function(){e||(n=[],e=requestAnimationFrame(r)),n.push(arguments)}}return s}function Y(e,t,n){return e<t?t:n<e?n:e}function L(e){return(0<e)-(e<0)}var t={}
function u(e){return t[e]||(t[e]=e.replace(/([A-Z])/g,n))}function n(e){return"-"+e[0].toLowerCase()}var b=window,E=document.documentElement
function H(e,t){return e&&0!=e.length?e.nodeName?[e]:[].slice.call(e[0].nodeName?e:(t||E).querySelectorAll(e)):[]}var P=f(function(e,t){for(var n in t)e.setAttribute("data-"+u(n),t[n])}),y="scroll",A="resize",T="addEventListener",W="removeEventListener",O=0
return function(a){var o,i,d,v,h,p=f((a=a||{}).onChange),m=f(a.onHidden),g=f(a.onShown),w=a.cssProps?(o=a.cssProps,f(function(e,t){for(var n in t)(1==o||o[n])&&e.style.setProperty("--"+u(n),(r=t[n],Math.round(1e4*r)/1e4))
var r})):s,e=a.scrollingElement,t=e?H(e)[0]:b,D=e?H(e)[0]:E,r=++O,X=function(e,t,n){return e[t+r]!=(e[t+r]=n)},n=l(function(){d=1,i=H(a.targets||"[data-scroll]",H(a.scope||D)[0]),c()}),c=l(function(){var f=D.clientWidth,u=D.clientHeight,e=L(-v+(v=D.scrollLeft||b.pageXOffset)),t=L(-h+(h=D.scrollTop||b.pageYOffset)),n=D.scrollLeft/(D.scrollWidth-f||1),r=D.scrollTop/(D.scrollHeight-u||1)
e|t&&X(D,"_sd",(e|t)+n+r)&&(P(D,{scrollDirX:e,scrollDirY:t}),w(D,{scrollDirX:e,scrollDirY:t,scrollPercentX:n,scrollPercentY:r})),i=i.filter(function(e){var t=e.offsetLeft,n=e.offsetTop,r=e.clientWidth,o=e.clientHeight,i=(Y(t+r,v,v+f)-Y(t,v,v+f))/r,c=(Y(n+o,h,h+u)-Y(n,h,h+u))/o,l={visibleX:i,visibleY:c,visible:0,offsetX:t,offsetY:n,elementWidth:r,elementHeight:o,intersectX:1==i?0:L(t-v),intersectY:1==c?0:L(n-h)},s=l.visible=+(a.offset?a.offset<=h:(a.threshold||0)<i*c)
return(X(e,"_sv",i+c+s)||d)&&w(e,l),X(e,"_so",s)&&(P(e,{scroll:s?"in":"out"}),p(e,l,D),(s?g:m)(e,l,D)),!s||!a.once}),d=0})
return n(),b[T](A,n),t[T](y,c),{index:n,update:c,teardown:function(){b[W](A,n),t[W](y,c)}}}}()
