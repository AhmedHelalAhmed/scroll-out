var ScrollOut=function(){"use strict"
function E(){}var S,t=[],y=[]
function D(){y.slice().forEach(function(e){return e()})
var e=t
t=[],e.forEach(function(e){return e.f.apply(0,e.a)}),S=y.length?requestAnimationFrame(D):0}function L(e){return e=e||E,function(){e.apply(0,arguments)}}function b(e,t,n){return e<t?t:n<e?n:e}function A(e){return(0<e)-(e<0)}var n={}
function H(e){return n[e]||(n[e]=e.replace(/([A-Z])/g,r))}function r(e){return"-"+e[0].toLowerCase()}var O=window,P=document.documentElement
function x(e,t){return e&&0!=e.length?e.nodeName?[e]:[].slice.call(e[0].nodeName?e:(t||P).querySelectorAll(e)):[]}var W=L(function(e,t){for(var n in t)e.setAttribute("data-"+H(n),t[n])}),N="scroll",T="resize",$="addEventListener",_="removeEventListener",q=0
return function(v){var o,i,c,l,h,d,t,s=L((v=v||{}).onChange),f=L(v.onHidden),u=L(v.onShown),a=v.cssProps?(o=v.cssProps,L(function(e,t){for(var n in t)(1==o||o[n])&&e.style.setProperty("--"+H(n),(r=t[n],Math.round(1e4*r)/1e4))
var r})):E,e=v.scrollingElement,n=e?x(e)[0]:O,p=e?x(e)[0]:P,r=++q,g=function(e,t,n){return e[t+r]!=(e[t+r]=JSON.stringify(n))},m=function(){l=!0},X=function(){var u=p.clientWidth,a=p.clientHeight,e=A(-h+(h=p.scrollLeft||O.pageXOffset)),t=A(-d+(d=p.scrollTop||O.pageYOffset)),n=p.scrollLeft/(p.scrollWidth-u||1),r=p.scrollTop/(p.scrollHeight-a||1)
i={scrollDirX:e,scrollDirY:t,scrollPercentX:n,scrollPercentY:r},l&&(l=!1,c=x(v.targets||"[data-scroll]",x(v.scope||p)[0]).map(function(e){return{$:e,ctx:{}}})),c.forEach(function(e){var t=e.$,n=t.offsetLeft,r=t.offsetTop,o=t.clientWidth,i=t.clientHeight,c=(b(n+o,h,h+u)-b(n,h,h+u))/o,l=(b(r+i,d,d+a)-b(r,d,d+a))/i,s=b((h-(o/2+n-u/2))/(u/2),-1,1),f=b((d-(i/2+r-a/2))/(a/2),-1,1)
e.ctx={elementHeight:i,elementWidth:o,intersectX:1==c?0:A(n-h),intersectY:1==l?0:A(r-d),offsetX:n,offsetY:r,viewportX:s,viewportY:f,visibleX:c,visibleY:l,visible:+(v.offset?v.offset<=d:(v.threshold||0)<c*l)}})},Y=function(){if(c){g(p,"_S",i)&&(W(p,{scrollDirX:i.scrollDirX,scrollDirY:i.scrollDirY}),a(p,i))
for(var e=c.length-1;-1<e;e--){var t=c[e],n=t.$,r=t.ctx,o=r.visible
g(n,"_SO",r)&&a(n,r),g(n,"_SV",o)&&(W(n,{scroll:o?"in":"out"}),s(n,r,p),(o?u:f)(n,r,p)),o&&v.once&&c.splice(e,1)}}},w=(t=Y,y.push(t),S||D(),function(){!(y=y.filter(function(e){return e!=t})).length&&S&&cancelAnimationFrame(S)})
return m(),Y(),O[$](T,m),n[$](N,X),{index:m,update:X,teardown:function(){w(),O[_](T,m),n[_](N,X)}}}}()
