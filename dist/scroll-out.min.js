var ScrollOut=function(){"use strict"
function l(e){var t,n=Date.now()
return function(){n+17-Date.now()<0?(t=0,n=Date.now(),e()):t=t||setTimeout(e,17)}}function s(){}function f(t){if(t){var e,n,r=function(){e=0,n.forEach(function(e){t.apply(0,e)})}
return function(){e||(n=[],e=requestAnimationFrame(r)),n.push(arguments)}}return s}function S(e,t,n){return e<t?t:n<e?n:e}function L(e){return(0<e)-(e<0)}var t={}
function u(e){return t[e]||(t[e]=e.replace(/([A-Z])/g,n))}function n(e){return"-"+e[0].toLowerCase()}var b=window,a=document.documentElement
function v(e,t){return e&&0!=e.length?e.nodeName?[e]:[].slice.call(e[0].nodeName?e:(t||a).querySelectorAll(e)):[]}var y=f(function(e,t){for(var n in t)e.setAttribute("data-"+u(n),t[n])}),E="scroll",H="resize",O="addEventListener",P="removeEventListener",A=0
return function(d){var o,r,h,p,g=f((d=d||{}).onChange),m=f(d.onHidden),w=f(d.onShown),X=d.cssProps?(o=d.cssProps,f(function(e,t){for(var n in t)(1==o||o[n])&&e.style.setProperty("--"+u(n),(r=t[n],Math.round(1e4*r)/1e4))
var r})):s,e=d.scrollingElement,t=e?v(e)[0]:b,Y=e?v(e)[0]:a,i=++A,D=function(e,t,n){return e[t+i]!=(e[t+i]=JSON.stringify(n))},n=l(function(){r=v(d.targets||"[data-scroll]",v(d.scope||Y)[0]),c()}),c=l(function(){var a=Y.clientWidth,v=Y.clientHeight,e=L(-h+(h=Y.scrollLeft||b.pageXOffset)),t=L(-p+(p=Y.scrollTop||b.pageYOffset)),n={scrollDirX:e,scrollDirY:t,scrollPercentX:Y.scrollLeft/(Y.scrollWidth-a||1),scrollPercentY:Y.scrollTop/(Y.scrollHeight-v||1)}
e|t&&D(Y,"_S",n)&&(y(Y,{scrollDirX:e,scrollDirY:t}),X(Y,n)),r=r.filter(function(e){var t=e.offsetLeft,n=e.offsetTop,r=e.clientWidth,o=e.clientHeight,i=(S(t+r,h,h+a)-S(t,h,h+a))/r,c=(S(n+o,p,p+v)-S(n,p,p+v))/o,l=S((h-(r/2+t-a/2))/(a/2),-1,1),s=S((p-(o/2+n-v/2))/(v/2),-1,1),f={elementHeight:o,elementWidth:r,intersectX:1==i?0:L(t-h),intersectY:1==c?0:L(n-p),offsetX:t,offsetY:n,viewportX:l,viewportY:s,visible:0,visibleX:i,visibleY:c},u=f.visible=+(d.offset?d.offset<=p:(d.threshold||0)<i*c)
return D(e,"_SO",f)&&X(e,f),D(e,"_SV",u)&&(y(e,{scroll:u?"in":"out"}),g(e,f,Y),(u?w:m)(e,f,Y)),!u||!d.once})})
return n(),b[O](H,n),t[O](E,c),{index:n,update:c,teardown:function(){b[P](H,n),t[P](E,c)}}}}()
